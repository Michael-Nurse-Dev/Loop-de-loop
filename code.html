<!doctype html>
<html lang="en" class="h-100">

<head>    
    <title>Loop de Loop: A Coding Project by Michael Nurse</title>
    
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="manifest" href="img/site.webmanifest">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">   
     <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>

      <!-- Google fonts -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

     <link rel="stylesheet" href="css/site.css">
     <link rel="stylesheet" href="css/prism.css">
</head>

<body class="d-flex flex-column h-100">
   
   <!-- ==== Nav section==== -->
   <nav class="navbar navbar-expand-md navbar-dark fixed-top">
      <div class="container-fluid">
         <img src="img/logo.png" alt="Logo" class="d-inline-block align-text-top" height="40px">
         <a class="navbar-brand pacifico-font" href="#">Loop de Loop</a>
         <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
               aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
         </button>
         <div class="collapse navbar-collapse" id="navbarCollapse">
               <ul class="navbar-nav me-auto mb-2 mb-md-0">
                  <li class="nav-item">
                     <a class="nav-link" href="index.html">Home</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="app.html">The App</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link active" aria-current="page" href="code.html">The Code</a>
                  </li>
                  <li class="nav-item">
                     <!-- Link target to portfolio -->
                      <a class="nav-link" target="_blank" href="https://michaelnurse.dev">About</a>
                  </li>
                  <li class="nav-item">
                    <!-- Link target to portfolio -->
                     <a class="nav-link" target="_blank" href="https://github.com/Michael-Nurse-Dev/Loop-de-loop">>Github</a>
                 </li>

               </ul>
         </div>
      </div>
   </nav>

   <!-- ==== Main section ==== -->
   <main class="flex-shrink-0">
      <div class="container py-5 px-5 mt-5">
         <h2 class="border-1 border-bottom border-dark pacifico-font display-4">The Code</h2>
         <div class="row row-cols-1 row-cols-lg-2" id="codeContainer">
            <div class="col-lg-8">
               <pre class="line-numbers">
                  <code class="language-javascript">
                     //Loop de Loop

                     //The Controller
                     function getValues(){
                        let startValue = parseInt(document.getElementById("startValue").value);
                        let endValue = parseInt(document.getElementById("endValue").value);
                        
                        let numbers = [];
                     
                        if (Number.isInteger(startValue) && Number.isInteger(endValue)) {
                           
                           //Call a function to generate numbers.
                           numbers = generateNumbers(startValue, endValue)
                           
                           //Call a function to display results on the website.
                           displayNumbers(numbers);
                        }
                        else{
                           alert("Please enter only integers")
                        }
                     }


                     //Model function
                     function generateNumbers(sValueParam, eValueParam){
                        
                        let numbers = [];

                        for (let i = sValueParam; i <= eValueParam; i++) {
                        numbers.push(i);      
                        }

                        return numbers;
                     }

                     //UI function
                     function displayNumbers(numbers){

                        let templateRows = "";

                        for (let i = 0; i < numbers.length; i++) {
                           let n = numbers[i];
                           let className = "";

                           if (n % 2 == 0) {
                              className = "even";
                           }
                           else{
                              className = "odd";         
                           }

                           templateRows += `<tr><td class="${className}">${n}</td></tr>`;      
                        }

                        // Insert the final result into the DOM.
                        document.getElementById("results").innerHTML = templateRows;
                     }

                     //Event listener directly on html the page
                     document.getElementById("btnSubmit").addEventListener("click", getValues);
                  </code>
               </pre>
            </div>
            <div class="col-lg-4">                  
                  <h4>Code Explanation</h4>
                  <p>At it heart, Loop de Loop is a very simple program but on the other hand this gives us a good opportunity to focus on <strong>better presentation</strong>. After all, code is meant to be read by humans.</p>
                  <p>We wish to keep <strong>concerns seperate</strong> as follows: <br>
                     1. The program control(the controller).<br>
                     2. The domain logic and data model (the model).<br>
                     3. The user interface(UI or view).</p>
                     <p><strong>getValues</strong> is our program entry point as listed first.
                        It functions to get the input from the event listener and then pass it off to the logic function, 
                        generateNumbers. Once the return is received it sends it off to the UI function, displayResult.</p>
                     <p><strong>generateNumbers</strong> generates the numbers to be displayed. Ideally, the determination of whether the number is odd or even should also happen here but to enhance programmatic simplicity it is done in the UI function.</p>
                     <p><strong>displayResult</strong> uses the modulus operator to calculate whether number is odd or even and then display the result. It uses a loop to generate hmtl and then assigns the result to the DOM property innerHtml.</p>
                     <p><strong>Event listener: </strong>This is placed directly on the page as is common practice. It can also be placed in the site.js file. It returns the results of the input to the Controller function.</p>
            </div>
         </div>
      </div>
   </main>

   <!-- ==== Footer section ==== -->
   <footer class="footer mt-auto py-3">
      <div class="container-fluid text-center" id="footer-hand-crafted">
            <div class="row">                 
            <span class="text-lite">Hand crafted with care by</span>
            </div>

            <div id="footer-logo-div">
               <img src="/img/Toucan.svg" alt="Toucan logo" id="toucan1">
               <img src="/img/Michael Nurse White Font.svg" alt="Michael Nurse logo text" height="33">
               <img src="/img/Toucan.svg" alt="Toucan logo" id="toucan2">        
            </div>

            <div class="row">
               <div class="col">michael.nurse.dev@gmail.com</div>
            </div>

            <div class="row pb-2">
               <div class="col text-muted"> &copy;2021 </div>
            </div>

            <div class="row pt-2 bg-light" >
               <div class="col-1 col-md-2 col-lg-3 col-xl-4"></div>
               <div class="col social"><a href="https://www.linkedin.com/in/michaelcharlesnurse/" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></div>
               <div class="col social"><a href="https://github.com/Michael-Nurse-Dev" target="_blank"><i class="fab fa-github fa-2x"></i></a></div>
               <div class="col social"><a href="https://twitter.com/MichaelNurseDev" target="_blank"><i class="fab fa-twitter fa-2x"></i></a></div>
               <div class="col social"><a href="https://www.youtube.com/channel/UCo5PATNyBA_MGN3FPTK5CBg" target="_blank"><i class="fab fa-youtube fa-2x"></i></a></div>
               <div class="col-1 col-md-2 col-lg-3 col-xl-4"></div>
            </div>


      
         
            
      </div>
   </footer>

   <!-- Bootstrap JS -->
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
  </script>
  <script src="js/prism.js"></script>
  <script>
   Prism.plugins.NormalizeWhitespace.setDefaults({
      'remove-trailing': true,
      'remove-indent': true,
      'left-trim': true,
      'right-trim': true
      })
   </script>

</body>
</html>
